# {{ ansible_managed }}

[mysqld]
# table_cache            = 8192
open_files_limit       = 25000

# tmp_table_size  = 512M
max_heap_table_size = 512M

innodb_large_prefix=true
innodb_file_format=barracuda
innodb_file_per_table=true
innodb_buffer_pool_size = {{ (ansible_memtotal_mb/1024/2)|round|int }}G

join_buffer_size = 512K

# http://www.mysqlperformanceblog.com/2007/11/03/choosing-innodb_buffer_pool_size/
innodb_flush_method=O_DIRECT

query_cache_limit       = 12M
query_cache_size        = 128M

# log_slow_queries        = /var/log/mysql/mysql-slow.log
long_query_time = 2
